<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Lang/dataStructures</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../css/agda.css" />
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<hr />
<p><a href="contents.html">Contents</a> <a href="Lang.intro.html">Previous</a> <a href="Lang.functions.html">Next</a></p>
<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
<hr />
<ul>
<li><a href="#data-structures">Data Structures</a></li>
<li><a href="#data-keyword"><code>Data</code> keyword</a>
<ul>
<li><a href="#trivial-types">Trivial types</a>
<ul>
<li><a href="#empty">Empty</a></li>
<li><a href="#singleton">Singleton</a></li>
</ul></li>
<li><a href="#boolean-type">Boolean type</a></li>
<li><a href="#natural-numbers">Natural numbers</a></li>
<li><a href="#binary-trees">Binary Trees</a></li>
<li><a href="#graph">Graph</a></li>
<li><a href="#list">List</a></li>
<li><a href="#finite-set">Finite set</a></li>
<li><a href="#indexed-sequences-or-vectors">Indexed sequences or Vectors</a></li>
</ul></li>
</ul>
<!-- END doctoc generated TOC please keep comment here to allow auto update -->
<h1 id="data-structures">Data Structures</h1>
<p>Here we look at how to define data structures in Agda.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">module</span> Lang<span class="ot">.</span>dataStructures <span class="kw">where</span></span></code></pre></div>
<p>Agda is an implementation of type theory, a branch of mathematics. A type presents a notion of an object belonging to a certain characteristic, it assigns some extra information to an object.</p>
<p>To declare <code>A</code> as a type:</p>
<p><span class="math display">\[
A : Type
\]</span></p>
<p>or in Agda:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">module</span> <span class="ot">_</span> <span class="ot">{</span>A <span class="ot">:</span> <span class="dt">Set</span><span class="ot">}</span> <span class="kw">where</span></span></code></pre></div>
<p>We say the object <code>x</code> is of type <code>A</code> like:</p>
<p><span class="math display">\[
x : A
\]</span></p>
<h1 id="data-keyword"><code>Data</code> keyword</h1>
<p>Programming languages often come bundled with some primitive data types like <code>int</code>, <code>float</code>, <code>string</code> etc and some that combine these primitive types into more complex structures, e.g. <code>map</code> can be used to construct say <code>map&lt;string, array&lt;string&gt;&gt;</code> or the <code>Either</code> datatype in haskell, the <code>Option</code> datatype in scala and so on.</p>
<p>Some languages also provide the mechanism to define new data types, sometimes by alias-ing a data type with a name like in scala:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode scala"><code class="sourceCode scala"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">type</span> newData = Map[String, List[Float]]</span></code></pre></div>
<p>This is called <em>type aliasing</em>.</p>
<p>Others provide the facility to define new data types, like haskell does with the <code>data</code> keyword:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb4-1"><a href="#cb4-1"></a><span class="co">-- this states that the type `Bool` can have two values False and True</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw">data</span> <span class="dt">Bool</span> <span class="ot">=</span> <span class="dt">False</span> <span class="op">|</span> <span class="dt">True</span></span></code></pre></div>
<p>A haskell datatype can also have constructors. For e.g. if we were to define a shape type which can either be a circle or a rectange:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">data</span> <span class="dt">Shape</span> <span class="ot">=</span> <span class="dt">Circle</span> <span class="dt">Float</span> <span class="dt">Float</span> <span class="dt">Float</span> <span class="op">|</span> <span class="dt">Rectangle</span> <span class="dt">Float</span> <span class="dt">Float</span> <span class="dt">Float</span> <span class="dt">Float</span></span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">-- uses the Circle constructor to create an object of type Shape</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="dt">Circle</span> <span class="fl">1.2</span> <span class="fl">12.1</span> <span class="fl">123.1</span></span>
<span id="cb5-5"><a href="#cb5-5"></a></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">-- uses the Rectange constructor to create an object of type Shape</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="dt">Rectange</span> <span class="fl">1.2</span> <span class="fl">12.1</span> <span class="fl">123.1</span> <span class="fl">1234.5</span></span></code></pre></div>
<p>The <code>data</code> keyword works in a similar manner in Agda:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb6-1"><a href="#cb6-1"></a><span class="co">-- lets assume SomeType1 and SomeType2 to be previously defined</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="kw">module</span> <span class="ot">_</span> <span class="ot">{</span>SomeType1 SomeType2 <span class="ot">:</span> <span class="dt">Set</span><span class="ot">}</span> <span class="kw">where</span></span>
<span id="cb6-3"><a href="#cb6-3"></a></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="kw">data</span> AgdaData <span class="ot">:</span> <span class="dt">Set</span> <span class="kw">where</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>    <span class="co">-- constructors, all return AgdaData</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>    constructor1 <span class="ot">:</span> SomeType1 <span class="ot">→</span> AgdaData</span>
<span id="cb6-7"><a href="#cb6-7"></a>    constructor2 <span class="ot">:</span> SomeType2 <span class="ot">→</span> AgdaData</span>
<span id="cb6-8"><a href="#cb6-8"></a>    trivialConstructor <span class="ot">:</span> AgdaData</span>
<span id="cb6-9"><a href="#cb6-9"></a>    etc <span class="ot">:</span> SomeType1 <span class="ot">→</span> SomeType2 <span class="ot">→</span> AgdaData</span></code></pre></div>
<h2 id="trivial-types">Trivial types</h2>
<h3 id="empty">Empty</h3>
<p>An empty type cannot be created cause it has no constructor. This is the most barebones of a <code>data</code> definition.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">data</span> ⊥ <span class="ot">:</span> <span class="dt">Set</span> <span class="kw">where</span></span></code></pre></div>
<h3 id="singleton">Singleton</h3>
<p>A singleton is just a type containing only one object:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">data</span> ⊤ <span class="ot">:</span> <span class="dt">Set</span> <span class="kw">where</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>  singleton <span class="ot">:</span> ⊤</span></code></pre></div>
<p>The singleton constructor <code>singleton</code> creates a single object of type <code>T</code>.</p>
<h2 id="boolean-type">Boolean type</h2>
<p>The boolean type has just two values:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">data</span> Bool <span class="ot">:</span> <span class="dt">Set</span> <span class="kw">where</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>  true <span class="ot">:</span> Bool</span>
<span id="cb9-3"><a href="#cb9-3"></a>  false <span class="ot">:</span> Bool</span></code></pre></div>
<h2 id="natural-numbers">Natural numbers</h2>
<p>All natural numbers can be created from <code>zero</code> and n successive numbers after <code>zero</code>. All we need to know are</p>
<ul>
<li>zero</li>
<li>how to increment a number</li>
</ul>
<p>and then, increment zero to infinity!</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw">data</span> ℕ <span class="ot">:</span> <span class="dt">Set</span> <span class="kw">where</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>  zero <span class="ot">:</span> ℕ</span>
<span id="cb10-3"><a href="#cb10-3"></a>  succ <span class="ot">:</span> ℕ <span class="ot">→</span> ℕ</span></code></pre></div>
<p>The operations for natual numbers, addition, subtraction, multiplication and powers can be defined as functions in Agda:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb11-1"><a href="#cb11-1"></a><span class="ot">_</span>+<span class="ot">_</span> <span class="ot">:</span> ℕ <span class="ot">→</span> ℕ <span class="ot">→</span> ℕ</span>
<span id="cb11-2"><a href="#cb11-2"></a>x + zero <span class="ot">=</span> x</span>
<span id="cb11-3"><a href="#cb11-3"></a>x + <span class="ot">(</span>succ y<span class="ot">)</span> <span class="ot">=</span> succ <span class="ot">(</span>x + y<span class="ot">)</span></span>
<span id="cb11-4"><a href="#cb11-4"></a></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="ot">_</span>−<span class="ot">_</span> <span class="ot">:</span> ℕ <span class="ot">→</span> ℕ <span class="ot">→</span> ℕ</span>
<span id="cb11-6"><a href="#cb11-6"></a>zero  − m     <span class="ot">=</span> zero</span>
<span id="cb11-7"><a href="#cb11-7"></a>succ n − zero  <span class="ot">=</span> succ n</span>
<span id="cb11-8"><a href="#cb11-8"></a>succ n − succ m <span class="ot">=</span> n − m</span>
<span id="cb11-9"><a href="#cb11-9"></a></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="ot">_</span>×<span class="ot">_</span> <span class="ot">:</span> ℕ <span class="ot">→</span> ℕ <span class="ot">→</span> ℕ</span>
<span id="cb11-11"><a href="#cb11-11"></a>x × zero     <span class="ot">=</span> zero</span>
<span id="cb11-12"><a href="#cb11-12"></a>x × <span class="ot">(</span>succ y<span class="ot">)</span> <span class="ot">=</span> x + <span class="ot">(</span>x × y<span class="ot">)</span></span>
<span id="cb11-13"><a href="#cb11-13"></a></span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="ot">_</span>² <span class="ot">:</span> ℕ <span class="ot">→</span> ℕ</span>
<span id="cb11-15"><a href="#cb11-15"></a>x ² <span class="ot">=</span> x × x</span>
<span id="cb11-16"><a href="#cb11-16"></a></span>
<span id="cb11-17"><a href="#cb11-17"></a><span class="ot">_</span>^<span class="ot">_</span> <span class="ot">:</span> ℕ <span class="ot">→</span> ℕ <span class="ot">→</span> ℕ</span>
<span id="cb11-18"><a href="#cb11-18"></a>x ^ zero <span class="ot">=</span> succ zero</span>
<span id="cb11-19"><a href="#cb11-19"></a>x ^ <span class="ot">(</span>succ y<span class="ot">)</span> <span class="ot">=</span> x × <span class="ot">(</span>x ^ y<span class="ot">)</span></span></code></pre></div>
<p>Examples:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb12-1"><a href="#cb12-1"></a>one   <span class="ot">=</span> succ zero</span>
<span id="cb12-2"><a href="#cb12-2"></a>two   <span class="ot">=</span> succ one</span>
<span id="cb12-3"><a href="#cb12-3"></a>three <span class="ot">=</span> succ two</span>
<span id="cb12-4"><a href="#cb12-4"></a>four  <span class="ot">=</span> succ three</span>
<span id="cb12-5"><a href="#cb12-5"></a>five  <span class="ot">=</span> succ four</span>
<span id="cb12-6"><a href="#cb12-6"></a>six   <span class="ot">=</span> succ five</span>
<span id="cb12-7"><a href="#cb12-7"></a>seven <span class="ot">=</span> succ six</span>
<span id="cb12-8"><a href="#cb12-8"></a>eight <span class="ot">=</span> succ seven</span>
<span id="cb12-9"><a href="#cb12-9"></a>nine  <span class="ot">=</span> succ eight</span>
<span id="cb12-10"><a href="#cb12-10"></a>ten   <span class="ot">=</span> succ nine</span></code></pre></div>
<p>and so on. Here, each member of the integer family can be derived from a smaller member by successively applying <code>succ</code> to it. Such a type is called an <a href="https://en.wikipedia.org/wiki/Agda_(programming_language)#Inductive_types"><strong>Inductive</strong> type</a>.</p>
<h2 id="binary-trees">Binary Trees</h2>
<p>We define a binary tree using the following definition. Note that this merely creates an empty structure of a tree, the nodes or leaves contain no information in them, except for their position in the tree:</p>
<figure>
<img src="./bintree.png" alt="" /><figcaption>Figure 1: Bintree</figcaption>
</figure>
<div class="sourceCode" id="cb13"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw">data</span> BinTree <span class="ot">:</span> <span class="dt">Set</span> <span class="kw">where</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>  leaf <span class="ot">:</span> BinTree</span>
<span id="cb13-3"><a href="#cb13-3"></a>  node <span class="ot">:</span> BinTree <span class="ot">→</span> BinTree <span class="ot">→</span> BinTree</span></code></pre></div>
<p>Now let us augment the binary trees with leaves containing natural numbers in leaf nodes:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw">data</span> ℕBinTree <span class="ot">:</span> <span class="dt">Set</span> <span class="kw">where</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>  leaf <span class="ot">:</span> ℕ <span class="ot">→</span> ℕBinTree</span>
<span id="cb14-3"><a href="#cb14-3"></a>  node <span class="ot">:</span> ℕBinTree <span class="ot">→</span> ℕBinTree <span class="ot">→</span> ℕBinTree</span></code></pre></div>
<p>Binary trees with each node and leaf containing a natural number:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw">data</span> ℕNodeBinTree <span class="ot">:</span> <span class="dt">Set</span> <span class="kw">where</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>  leaf <span class="ot">:</span> ℕ <span class="ot">→</span> ℕNodeBinTree</span>
<span id="cb15-3"><a href="#cb15-3"></a>  node <span class="ot">:</span> ℕ <span class="ot">→</span> ℕNodeBinTree <span class="ot">→</span> ℕNodeBinTree <span class="ot">→</span> ℕNodeBinTree</span></code></pre></div>
<p>Binary trees with each node containing a natural number and each leaf contaning a boolean:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw">data</span> ℕMixedBinTree <span class="ot">:</span> <span class="dt">Set</span> <span class="kw">where</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>  leaf <span class="ot">:</span> Bool <span class="ot">→</span> ℕMixedBinTree</span>
<span id="cb16-3"><a href="#cb16-3"></a>  node <span class="ot">:</span> ℕ <span class="ot">→</span> ℕMixedBinTree <span class="ot">→</span> ℕMixedBinTree <span class="ot">→</span> ℕMixedBinTree</span></code></pre></div>
<h2 id="graph">Graph</h2>
<figure>
<img src="./graph.png" alt="" /><figcaption>Figure 2: Graph</figcaption>
</figure>
<p>We define a graph with:</p>
<ul>
<li>Vertices containing a natural number</li>
<li>Edges as triples containing <code>to</code> and <code>from</code> vertices</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">data</span> Vertex <span class="ot">:</span> <span class="dt">Set</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="kw">data</span> Edge   <span class="ot">:</span> <span class="dt">Set</span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="kw">data</span> Graph  <span class="ot">:</span> <span class="dt">Set</span></span>
<span id="cb17-4"><a href="#cb17-4"></a></span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="kw">data</span> Vertex <span class="kw">where</span></span>
<span id="cb17-6"><a href="#cb17-6"></a>  vertex <span class="ot">:</span> ℕ <span class="ot">→</span> Vertex</span>
<span id="cb17-7"><a href="#cb17-7"></a></span>
<span id="cb17-8"><a href="#cb17-8"></a><span class="kw">data</span> Edge <span class="kw">where</span></span>
<span id="cb17-9"><a href="#cb17-9"></a>  edge <span class="ot">:</span> Vertex <span class="ot">→</span> Vertex <span class="ot">→</span> Edge</span>
<span id="cb17-10"><a href="#cb17-10"></a></span>
<span id="cb17-11"><a href="#cb17-11"></a><span class="kw">data</span> Graph <span class="kw">where</span></span>
<span id="cb17-12"><a href="#cb17-12"></a>  idGraph <span class="ot">:</span> Edge <span class="ot">→</span> Graph</span>
<span id="cb17-13"><a href="#cb17-13"></a>  <span class="ot">_</span>+|+<span class="ot">_</span> <span class="ot">:</span> Graph <span class="ot">→</span> Edge <span class="ot">→</span> Graph</span>
<span id="cb17-14"><a href="#cb17-14"></a></span>
<span id="cb17-15"><a href="#cb17-15"></a><span class="kw">infixl</span> <span class="dv">3</span> <span class="ot">_</span>+|+<span class="ot">_</span></span></code></pre></div>
<p>Agda supports <a href="https://agda.readthedocs.io/en/v2.5.2/language/mixfix-operators.html">“mixfix”</a> operators which combine infix, prefix and postfix operator semantics. Operator arguments are indicated with underscores <code>_</code>. An example would be the infix addition operator <code>_+_</code> which when applied with two parameters can be written as <code>a + b</code>. Similarly, a prefix operator would be represented as <code>♠_</code>, a postfix one as <code>♠_</code>. It is also possible to define more complex operators like <code>if_then_else_</code>.</p>
<p>The <code>infixl</code> operator above sets the precedence of the operator <code>+|+</code>.</p>
<p>We can use the above definition to create a graph in the following way:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb18-1"><a href="#cb18-1"></a>graph <span class="ot">:</span> Graph</span>
<span id="cb18-2"><a href="#cb18-2"></a>graph <span class="ot">=</span> idGraph <span class="ot">(</span>edge <span class="ot">(</span>vertex zero<span class="ot">)</span>   <span class="ot">(</span>vertex seven<span class="ot">))</span>     +|+</span>
<span id="cb18-3"><a href="#cb18-3"></a>                edge  <span class="ot">(</span>vertex one<span class="ot">)</span>    <span class="ot">(</span>vertex three<span class="ot">)</span>      +|+</span>
<span id="cb18-4"><a href="#cb18-4"></a>                edge  <span class="ot">(</span>vertex seven<span class="ot">)</span>  <span class="ot">(</span>vertex four<span class="ot">)</span>       +|+</span>
<span id="cb18-5"><a href="#cb18-5"></a>                edge  <span class="ot">(</span>vertex nine<span class="ot">)</span>   <span class="ot">(</span>vertex <span class="ot">(</span>succ six<span class="ot">))</span></span></code></pre></div>
<h2 id="list">List</h2>
<figure>
<img src="./list.png" alt="" /><figcaption>Figure 3: List</figcaption>
</figure>
<p>A list containing objects of type <code>A</code> can be defined inductively as having:</p>
<ul>
<li>An identity element, i.e. an empty list <code>[]</code></li>
<li>A concat operator which successively creates bigger lists <code>::</code></li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb19-1"><a href="#cb19-1"></a><span class="kw">data</span> List <span class="ot">(</span>A <span class="ot">:</span> <span class="dt">Set</span><span class="ot">)</span> <span class="ot">:</span> <span class="dt">Set</span> <span class="kw">where</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>  [] <span class="ot">:</span> List A</span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="ot">_</span>::<span class="ot">_</span> <span class="ot">:</span> A <span class="ot">→</span> List A <span class="ot">→</span> List A</span>
<span id="cb19-4"><a href="#cb19-4"></a></span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="kw">infixr</span> <span class="dv">5</span> <span class="ot">_</span>::<span class="ot">_</span></span></code></pre></div>
<p>and we create instances of lists as:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb20-1"><a href="#cb20-1"></a>bunch <span class="ot">:</span> List Bool</span>
<span id="cb20-2"><a href="#cb20-2"></a>bunch <span class="ot">=</span> false :: false :: true :: false :: true :: []</span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb21-1"><a href="#cb21-1"></a><span class="kw">data</span> TypeOf <span class="ot">(</span>A <span class="ot">:</span> <span class="dt">Set</span><span class="ot">)</span> <span class="ot">:</span> <span class="dt">Set</span> <span class="kw">where</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>  typeOf <span class="ot">:</span> List A <span class="ot">→</span> TypeOf A</span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb22-1"><a href="#cb22-1"></a>nat <span class="ot">:</span> TypeOf ℕ</span>
<span id="cb22-2"><a href="#cb22-2"></a>nat <span class="ot">=</span> typeOf <span class="ot">(</span> one :: two :: ten :: [] <span class="ot">)</span></span></code></pre></div>
<h2 id="finite-set">Finite set</h2>
<p>A finite set can be considered as a finite bunch of numbered objects, such that each object can be uniquely identified by an integer. Formally, a finite set <code>Fin</code> is a set for which there exists a bijection (one-to-one and onto correspondence) <span class="math inline">\(f : Fin → [n]\)</span> where <span class="math inline">\(n ∈ ℕ\)</span> and <code>[n]</code> is the set of all natural numbers from <code>0</code> to <code>n</code>.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb23-1"><a href="#cb23-1"></a><span class="kw">data</span> Fin <span class="ot">:</span> ℕ <span class="ot">→</span> <span class="dt">Set</span> <span class="kw">where</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>  id <span class="ot">:</span> <span class="ot">(</span>n <span class="ot">:</span> ℕ<span class="ot">)</span> <span class="ot">→</span> Fin <span class="ot">(</span>succ n<span class="ot">)</span></span>
<span id="cb23-3"><a href="#cb23-3"></a>  succ <span class="ot">:</span> <span class="ot">(</span>n <span class="ot">:</span> ℕ<span class="ot">)</span> <span class="ot">→</span> Fin n <span class="ot">→</span> Fin <span class="ot">(</span>succ n<span class="ot">)</span></span></code></pre></div>
<p><code>Fin n</code> represents the set of first n natural numbers, i.e., the set of all numbers smaller than n. We create a finite set of four elements:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb24-1"><a href="#cb24-1"></a>fourFin <span class="ot">:</span> Fin four</span>
<span id="cb24-2"><a href="#cb24-2"></a>fourFin <span class="ot">=</span> succ three <span class="ot">(</span>succ two <span class="ot">(</span>succ one <span class="ot">(</span>id zero<span class="ot">)))</span></span></code></pre></div>
<p>For a more in-depth treatment of finite sets, refer <a href="http://firsov.ee/finset/finset.pdf">Dependently Typed Programming with Finite Sets</a>.</p>
<h2 id="indexed-sequences-or-vectors">Indexed sequences or Vectors</h2>
<figure>
<img src="./vector.png" alt="" /><figcaption>Figure 4: Vectors</figcaption>
</figure>
<p>We now define a finite sized indexed list, also called a vector <code>Vec</code>. The constructor consists of:</p>
<ul>
<li>An identity constructor, <code>[]</code> which constructs an empty vector</li>
<li>A successive constructor <code>cons</code> which inductively builds a vector</li>
</ul>
<div class="sourceCode" id="cb25"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb25-1"><a href="#cb25-1"></a><span class="kw">data</span> Vec <span class="ot">(</span>A <span class="ot">:</span> <span class="dt">Set</span><span class="ot">)</span> <span class="ot">:</span> ℕ <span class="ot">→</span> <span class="dt">Set</span> <span class="kw">where</span></span>
<span id="cb25-2"><a href="#cb25-2"></a>  [] <span class="ot">:</span> Vec A zero</span>
<span id="cb25-3"><a href="#cb25-3"></a>  cons <span class="ot">:</span> <span class="ot">(</span>n <span class="ot">:</span> ℕ<span class="ot">)</span> <span class="ot">→</span> A <span class="ot">→</span> Vec A n <span class="ot">→</span> Vec A <span class="ot">(</span>succ n<span class="ot">)</span></span></code></pre></div>
<p>Examples of vectors :</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb26-1"><a href="#cb26-1"></a>vec1 <span class="ot">:</span> Vec Bool one</span>
<span id="cb26-2"><a href="#cb26-2"></a>vec1 <span class="ot">=</span> cons zero true []</span>
<span id="cb26-3"><a href="#cb26-3"></a></span>
<span id="cb26-4"><a href="#cb26-4"></a>vec2 <span class="ot">:</span> Vec Bool two</span>
<span id="cb26-5"><a href="#cb26-5"></a>vec2 <span class="ot">=</span> cons one false vec1</span>
<span id="cb26-6"><a href="#cb26-6"></a></span>
<span id="cb26-7"><a href="#cb26-7"></a>vec3 <span class="ot">:</span> Vec Bool three</span>
<span id="cb26-8"><a href="#cb26-8"></a>vec3 <span class="ot">=</span> cons two true vec2</span></code></pre></div>
<p>Note that each vector has its size encoded into it’s type. This is not to be confused with set theory based lists, where any two list of different number of elements have the same type.</p>
<p>For example:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode scala"><code class="sourceCode scala"><span id="cb27-1"><a href="#cb27-1"></a><span class="kw">val</span> x : List[Int] = List(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="kw">val</span> y : List[Int] = List(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">0</span>)</span></code></pre></div>
<p>both have the same type <code>List[Int]</code>.</p>
<p>Example, a bool-indexed vector such that only one type can be stored at the same time:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode agda"><code class="sourceCode agda"><span id="cb28-1"><a href="#cb28-1"></a><span class="kw">data</span> ⟂ <span class="ot">:</span> <span class="dt">Set</span> <span class="kw">where</span></span>
<span id="cb28-2"><a href="#cb28-2"></a></span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="kw">data</span> BoolVec<span class="ot">(</span>A B <span class="ot">:</span> <span class="dt">Set</span><span class="ot">)</span> <span class="ot">:</span> Bool <span class="ot">→</span> <span class="dt">Set</span> <span class="kw">where</span></span>
<span id="cb28-4"><a href="#cb28-4"></a>  id₁ <span class="ot">:</span> B <span class="ot">→</span> BoolVec A B false</span>
<span id="cb28-5"><a href="#cb28-5"></a>  id₂ <span class="ot">:</span> A <span class="ot">→</span> BoolVec A B true</span>
<span id="cb28-6"><a href="#cb28-6"></a></span>
<span id="cb28-7"><a href="#cb28-7"></a>containsB <span class="ot">:</span> BoolVec ⟂ ℕ false</span>
<span id="cb28-8"><a href="#cb28-8"></a>containsB <span class="ot">=</span> id₁ three</span>
<span id="cb28-9"><a href="#cb28-9"></a></span>
<span id="cb28-10"><a href="#cb28-10"></a>containsA <span class="ot">:</span> BoolVec ℕ ⟂ true</span>
<span id="cb28-11"><a href="#cb28-11"></a>containsA <span class="ot">=</span> id₂ four</span></code></pre></div>
<hr />
<p><a href="./Lang.functions.html">Functions</a></p>
</body>
</html>
